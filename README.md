# python è®¾è®¡æ¨¡å¼å­¦ä¹ 

è¿™æ˜¯ä¸€ä¸ª `python` `è®¾è®¡æ¨¡å¼` åŠå…¶ç”¨æ³•çš„æ±‡æ€». å¤§é‡å†…å®¹ç¿»è‡ª faif/python-patterns.

## ç°æœ‰çš„æ¨¡å¼

æŒ‰å¸¸ç”¨ç¨‹åº¦, æ ‡è®°ä¸º: ğŸ¥‡ , ğŸ¥ˆ , ğŸ¥‰ , ç©ºç™½. 1çº§æœ€å¸¸ç”¨/é‡è¦/æœ‰ç”¨, ç„¶åå¸¸ç”¨ç¨‹åº¦ä¾æ¬¡é€’å‡, æ— æ ‡è®°çš„å¤§æ¦‚å°±ä¸æ€ä¹ˆç»å¸¸ç”¨åˆ°äº†.

### åˆ›å»ºå‹æ¨¡å¼ Creational Patterns
| æ¨¡å¼                                                      | æè¿°                                                                |
| --------------------------------------------------------- | ------------------------------------------------------------------- |
| [factory å·¥å‚](patterns/factory.py)                       | ğŸ¥ˆ **å§”æ‰˜**æŸç‰¹å®šçš„å‡½æ•°/æ–¹æ³•å»åˆ›å»ºæ–°å®ä¾‹                             |
| [abstract factory æŠ½è±¡å·¥å‚](patterns/abstract_factory.py) | ğŸ¥ˆ å¯¹ç‰¹å®šå·¥å‚ä½¿ç”¨é€šç”¨å‡½æ•°(æ³›å‹)                                      |
| [singleton å•ä¾‹æ¨¡å¼](patterns/singleton.py)               | ğŸ¥‡ ç¡®ä¿åªæœ‰ä¸€ä¸ªç±»å®ä¾‹, å¹¶æä¾›å…¨å±€è®¿é—®ç‚¹(æ‹†ä¹å“‰?)                     |
| [borg å•ä¾‹å…±äº«](patterns/borg.py)                         | åœ¨å®ä¾‹é—´å…±äº«å•ä¾‹çš„ **çŠ¶æ€**                                         |
| [builder åˆ›å»ºè€…](patterns/builder.py)                     | ğŸ¥‰ åˆ›å»ºè€…é€šè¿‡æ¥æ”¶ä¸åŒå‚æ•°, è¿”å›ä¸åŒçš„å¯¹è±¡. æ„é€ å‡½æ•°å°±ä¸€ä¸ª, æ— éœ€å¤šä¸ª. |
| [lazy evaluation æƒ°æ€§æ±‚å€¼](patterns/lazy_evaluation.py)   | æŠŠç±»å±æ€§çš„è®¡ç®—æ±‚å€¼æ¨è¿Ÿåˆ°è°ƒç”¨æ—¶å€™(è€Œä¸æ˜¯ç±»å»ºç«‹æ—¶å€™)                  |
| [pool å¯¹è±¡æ± ](patterns/pool.py)                           | é¢„å…ˆåˆ›å»ºå¹¶ç»´æŠ¤ **ä¸€ç»„åŒç±»å‹çš„** å®ä¾‹ (è¿˜æœ‰ç‚¹ä¸ç†è§£)                 |
| [prototype åŸå‹](patterns/prototype.py)                   | å¦‚æœç”Ÿæˆæ–°å®ä¾‹çš„ä»£ä»·å¾ˆå¤§, é‚£ä¹ˆå¯ä»¥ç”¨å·¥å‚, å¹¶ä¸”å…‹éš†åŸå‹æ¥åˆ›å»ºæ–°å®ä¾‹  |


### ç»“æ„å‹æ¨¡å¼ Structural Patterns
| æ¨¡å¼                                                        | æè¿°                                                                              |
| ----------------------------------------------------------- | --------------------------------------------------------------------------------- |
| [3-tier 3å±‚](patterns/3-tier.py)                            | æ•°æ®--ä¸šåŠ¡é€»è¾‘--å‘ˆç°,ä¸‰å±‚åˆ†ç¦»(ä¸¥æ ¼å…³ç³»)                                           |
| [adapter é€‚é…å™¨](patterns/adapter.py)                       | ğŸ¥ˆ ç”¨**ç™½åå•**,æŠŠä¸€ä¸ªæ¥å£é€‚é…æˆå¦ä¸€ä¸ª                                             |
| [bridge æ¡¥æ¥](patterns/bridge.py)                           | ğŸ¥‰ é€šè¿‡ä¸­é—´äººå‡å°‘æ¥å£å˜åŒ–çš„å½±å“                                                    |
| [composite åˆæˆ](patterns/composite.py)                     | ğŸ¥‡ è®©å®¢æˆ·ç«¯ç”¨åŒä¸€ä¸ªæ–¹å¼å¤„ç†ä¸åŒçš„å¯¹è±¡/ç»„åˆ(éƒ¨åˆ†--æ•´ä½“, ç”¨æ ‘å½¢ç»“æ„ç»„åˆ)             |
| [decorator è£…é¥°å™¨](patterns/decorator.py)                   | ğŸ¥ˆ æŠŠåŠŸèƒ½åŒ…èµ·æ¥, ä»è€Œæ”¹å˜è¾“å‡º                                                      |
| [facade é—¨é¢/å¤–è§‚](patterns/facade.py)                      | ğŸ¥‡ æŠŠä¸€ä¸ªç±»ç”¨ä½œå…¶ä»–ä¸€äº›ç±»çš„API, æ˜¯å…¶ä»–ç±»é«˜å±‚æ¥å£, ä½¿å…¶ä»–ç±»æ›´å®¹æ˜“ç”¨(æŠŠé›¶ä»¶ç»„è£…ç”µè„‘) |
| [flyweight äº«å…ƒ](patterns/flyweight.py)                     | é€æ˜åœ°**é‡ç”¨**å…·æœ‰ç›¸ä¼¼/ç›¸åŒ**çŠ¶æ€**çš„å¯¹è±¡å®ä¾‹                                     |
| [front controller å‰ç«¯æ§åˆ¶å™¨](patterns/front_controller.py) | åˆ°è¾¾åº”ç”¨çš„è¯·æ±‚, ç”¨å•ä¸ªç¨‹åºå¤„ç†?                                                   |
| [MVC](patterns/mvc.py)                                      | æ¨¡å‹--è§†å›¾--æ§åˆ¶(éä¸¥æ ¼å…³ç³»)                                                      |
| [proxy ä»£ç†](patterns/proxy.py)                             | ğŸ¥‡ ä¸€ä¸ªå¯¹è±¡æŠŠå¦ä¸€ä¸ªå¯¹è±¡çš„æ“ä½œæ§åˆ¶èµ·æ¥,ä»¥ä»£ç†æ§åˆ¶å¯¹è±¡è®¿é—®                           |


### è¡Œä¸ºå‹æ¨¡å¼ Behavioral Patterns
| æ¨¡å¼                                                                 | æè¿°                                                      |
| -------------------------------------------------------------------- | --------------------------------------------------------- |
| [chain of resposibility è´£ä»»é“¾](patterns/chain_of_responsibility.py) | ğŸ¥‰ ä¸ºæ•°æ®å¤„ç†æä¾›ä¸€ä¸ªé“¾å¼å¯è¿ç»­è°ƒç”¨çš„å¥æŸ„                  |
| [catalog ç›®å½•](patterns/catalog.py)                                  | æ ¹æ®åˆ›å»ºç±»çš„å‚æ•°, ç”±é€šç”¨æ–¹æ³•è°ƒç”¨ç±»å†…ä¸åŒå…·ä½“å®ç°          |
| [chaining method é“¾å¼è°ƒç”¨](patterns/chaining_method.py)              | è°ƒç”¨ä¹‹å,å¯ä»¥ç»§ç»­è°ƒç”¨è‡ªå·±çš„æ–¹æ³•(ç”¨.è¿æ¥)                  |
| [command å‘½ä»¤](patterns/command.py)                                  | ğŸ¥ˆ **æ¨è¿Ÿç»‘å®š** å‘½ä»¤å’Œå‚æ•° åˆ°è°ƒç”¨ä¸Š                        |
| [iterator è¿­ä»£å™¨](patterns/iterator.py)                              | ğŸ¥‡ æä¾›ä¸€ä¸ªå®¹å™¨, é€šè¿‡å®¹å™¨èƒ½é€ä¸ªè®¿é—®å†…éƒ¨å¯¹è±¡                |
| [iterator2 è¿­ä»£å™¨2](patterns/iterator_alt.py)                        | è¿­ä»£å™¨çš„ `__iter__` å®ç°                                  |
| [mediator ä¸­ä»‹/è°ƒåœ](patterns/mediator.py)                           | ç”¨ä¸€ä¸ªä¸­ä»‹å¯¹è±¡(åƒä»£ç†é‚£æ ·å·¥ä½œ)å°è£…ä¸€ç»„å¯¹è±¡é—´çš„é€šä¿¡        |
| [memento å¤‡å¿˜å½•](patterns/memento.py)                                | ç”Ÿæˆä¸€ä¸ªä¸é€æ˜çš„æ ‡å¿—, å¯ä»¥è®©å¯¹è±¡å›åˆ°ä¹‹å‰çš„çŠ¶æ€            |
| [observer è§‚å¯Ÿè€…](patterns/observer.py)                              | ğŸ¥‡ å½“ **å‘ç”Ÿäº‹ä»¶** æˆ– **æ•°æ®å˜åŒ–**, æä¾›**å›è°ƒ**é€šçŸ¥       |
| [publish subscribe å‘å¸ƒ/è®¢é˜…](patterns/publish_subscribe.py)         | å‘å¸ƒäº‹ä»¶/æ•°æ®åˆ° **0+ æ³¨å†Œç”¨æˆ·**çš„æ¶ˆæ¯æº                   |
| [registry æ³¨å†Œ](patterns/registry.py)                                | ä¿å­˜ä¸€ä¸ªç»™å®šç±»çš„æ‰€æœ‰å­ç±»è·Ÿè¸ªä¿¡æ¯                          |
| [specification è§„çº¦æ¨¡å¼](patterns/specification.py)                  | ä¸šåŠ¡è§„åˆ™å¯ä»¥æ ¹æ®å¸ƒå°”é€»è¾‘è§„åˆ™,é“¾æ¥é‡ç»„(å¸¸è§äºDDD)          |
| [state çŠ¶æ€](patterns/state.py)                                      | ğŸ¥ˆ å°†é€»è¾‘åˆ†æ•£ä¸ºå‡ ä¸ªä¸ç›¸å…³çš„åŸºæœ¬çŠ¶æ€, å¹¶ä¸”å¯ä»¥åœ¨çŠ¶æ€é—´è½¬æ¢. |
| [stratory ç­–ç•¥](patterns/strategy.py)                                | ğŸ¥ˆ å¯¹ç›¸åŒçš„æ•°æ®, æœ‰å¤šé¡¹å¯é€‰çš„æ“ä½œ                          |
| [template æ¨¡æ¿](patterns/template.py)                                | ğŸ¥‡ ä¸€ä¸ªå¯¹è±¡å®šä¹‰äº†æ¡†æ¶, ä½†å…¶åŠŸèƒ½æ˜¯å¯æ’å…¥/æ›¿æ¢çš„             |
| [visitor è®¿é—®è€…](patterns/visitor.py)                                | æ¿€æ´»é›†åˆå†…æ‰€æœ‰æˆå‘˜çš„å›è°ƒå‡½æ•°                              |

### å¯æµ‹è¯•æ¨¡å¼çš„è®¾è®¡
| æ¨¡å¼                                                              | æè¿°              |
| ----------------------------------------------------------------- | ----------------- |
| [dependency injection ä¾èµ–æ³¨å…¥](patterns/dependency_injection.py) | 3ç§ä¾èµ–æ³¨å…¥çš„æ–¹æ³• |

### åŸºç¡€æ¨¡å¼
| æ¨¡å¼                    | æè¿°                                     |
| ----------------------- | ---------------------------------------- |
| [delegation pattern å§”æ‰˜](patterns/delegation_pattern.py) | ä¸€ä¸ªç±»æŠŠè¯·æ±‚ç§»äº¤ç»™å¦ä¸€ä¸ªç±»å¤„ç†(è¢«å§”æ‰˜äºº) |

### å…¶ä»–
| æ¨¡å¼                                            | æè¿°                                                            |
| ----------------------------------------------- | --------------------------------------------------------------- |
| [blackboard é»‘æ¿](patterns/blackboard.py)       | ç»“æ„æ¨¡å‹, å°†ä¸åŒå­ç³»ç»Ÿçš„çŸ¥è¯†ç»„å»ºæˆè§£å†³æ–¹æ¡ˆ. AI å¸¸è§, éä¼ ç»Ÿæ¨¡å¼ |
| [graph search å›¾æœç´¢](patterns/graph_search.py) | å›¾æœç´¢ç®—æ³•. éä¼ ç»Ÿæ¨¡å¼                                          |
| [HSM å±‚æ¬¡çŠ¶æ€æœº](patterns/hsm.py)               | å±‚æ¬¡çŠ¶æ€æœº, éä¼ ç»Ÿæ¨¡å¼                                          |

## ä¸€äº›åŸºç¡€çŸ¥è¯†

### è®¾è®¡æ¨¡å¼çš„6ä¸ªåŸºæœ¬åŸåˆ™
- å¼€é—­åŸåˆ™ OCP: å¯¹æ‰©å±•å¼€æ”¾, å¯¹ä¿®æ”¹å…³é—­.
- é‡Œæ°æ›¿æ¢åŸåˆ™ LSP: ç»§æ‰¿å¤ç”¨çš„åŸºçŸ³. å­ç±»å¯ä»¥æ›¿ä»£åŸºç±»å‡ºç°. åä¹‹ä¸èƒ½.(lspå’Œå¤šæ€çš„åŒºåˆ«: lspå­ç±»å¯ä»¥æ›¿æ¢çˆ¶ç±», ä½†æ˜¯å¤šæ€çš„å­ç±»å®ç°å¯èƒ½å®Œå…¨ä¸åŒ,åªæ˜¯åå­—ä¸€æ ·,å°±ä¸èƒ½æ›¿æ¢çˆ¶ç±». --TronjanDonkey)
- ä¾èµ–å€’è½¬åŸåˆ™ DIP: ä¾èµ–æŠ½è±¡, ä¸è¦ä¾èµ–å…·ä½“.
- æ¥å£éš”ç¦»åŸåˆ™ ISP: å¤šä¸ªéš”ç¦»çš„æ¥å£, ä¼˜äºå•ä¸ªæ¥å£.
- æœ€å°‘çŸ¥é“åŸåˆ™ DP: ä¸€ä¸ªå®ä½“å°½é‡å°‘äºå…¶ä»–å®ä½“ç›¸äº’ä½œç”¨, å°½é‡ç‹¬ç«‹.
- åˆæˆå¤ç”¨åŸåˆ™ CRP: åˆæˆ/èšåˆ, ä¼˜äºç»§æ‰¿.


### ä»€ä¹ˆæ—¶å€™ç”¨è®¾è®¡æ¨¡å¼?
- è¦æœ‰ç‚¹è¯­æ³•åŸºç¡€, è‡³å°‘è¯­æ³•å­¦ä¸ªä¸ƒä¸ƒå…«å…«
- æœ‰ç‚¹é¢å‘å¯¹è±¡çš„åŸºç¡€, æœ‰äº› OO çš„æ¦‚å¿µ
- å†™ä¸æ˜¯ç‰¹åˆ«å°çš„ä¸œè¥¿, å¯èƒ½è¦åˆ†æ¨¡å—çš„é‚£ç§

### ä¸ºä»€ä¹ˆç”¨è®¾è®¡æ¨¡å¼?
- æ¨¡å¼æ˜¯å‰äººé¡¹ç›®ç»éªŒçš„æ€»ç»“, åˆ©äºä»–äººç†è§£, å¯é æ€§é«˜
- è®©ç¨‹åºæ›´é€‚åº”å˜åŒ–
- æ¨¡å—/å†™è¿‡çš„ä¸œè¥¿, æ›´å®¹æ˜“å¤ç”¨, å‡å°‘åå¤é€ è½®å­

### å½“å¿ƒè¯¯åŒº
- è¦é¿å…è¿‡åº¦è®¾è®¡
- ?


## ref
- https://github.com/faif/python_patterns
- https://blog.csdn.net/longronglin/article/details/1454315